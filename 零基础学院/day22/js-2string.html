<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>字符串</title>
    <style type="text/css">
        button {
            height: 50px;
            float: left;
            margin: 20px;
            width: 350px;
            background-color: #87d7a7;
            color: #fff;
            font-size: 16px;
        }
        button:hover {
            opacity: 0.8;
        }
        #result {
            clear: both;
        }
    </style>
</head>
<body>
<div>
    <label>String A:
        <input id="radio-a" type="radio" name="str-obj" value="a">
    </label>
    <textarea id="str-a"></textarea>
    <label>String B:
        <input id="radio-b" type="radio" name="str-obj" value="b">
    </label>
    <textarea id="str-b"></textarea>        
    <label>Num A：<input id="num-a" type="number" value="0"></label>
    <label>Num B：<input id="num-b" type="number" value="1"></label>
</div>
<div class="btn-set">
    <button id="btn1">获取当前选中输入的内容长度</button>
    <button id="btn2">当前选中输入中的第3个字符</button>
    <button id="btn3">把两个输入框的文字连接在一起输出（concat）</button>
    <button id="btn4">输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
    <button id="btn5">输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
    <button id="btn6">使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
    <button id="btn7">当前选中输入框的行数</button>
    <button id="btn8">使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
    <button id="btn9">把所选输入框中的内容全部转为大写</button>
    <button id="btn10">把所选输入框中的内容全部转为小写</button>
    <button id="btn11">把所选输入框中内容的半角空格全部去除</button>
    <button id="btn12">把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
</div>
<p id="result"></p>
<script type="text/javascript">
    // 选取元素
    var btn = document.querySelector(".btn-set");
    var StrA = document.querySelector("#str-a");
    var StrB = document.querySelector("#str-b");
    var NumA = document.querySelector("#num-a");
    var NumB = document.querySelector("#num-b");
    var result = document.querySelector("#result");
    var NumberABtn = document.querySelector("#radio-a");
    var NumberBBtn = document.querySelector("#radio-b");
    var str;
    // 选择输入框函数
    function whichInput(){
        if (NumberABtn.checked == true) {
            str = StrA;
        } else {
            str = StrB;
        }
    }

    btn.onclick = function(e) {
        var ev = e || window.event;
        var target = ev.target || ev.srcElement;
        switch (target.id) {
            // 获取当前选中输入的内容长度
            case "btn1":
                whichInput();
                   result.innerHTML = "字符串的长度是: " + str.value.length;
                break;
                // 当前选中输入中的第3个字符
            case "btn2":
                whichInput();
                if (str.value.length >= 3) {
                    result.innerHTML = "第三个字符是: " + str.value.charAt(2);
                }
                break;
                // 把两个输入框的文字连接在一起输出（concat）
            case "btn3":
                var s1 = StrA.value;
                var s2 = StrB.value;
                var stringAB = s1.concat(s2);
                result.innerHTML = stringAB;
                break;
                // 输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）
            case "btn4":
                var s1 = StrA.value;
                var s2 = StrB.value;
                var stringAB = s1.indexOf(s2);
                result.innerHTML = stringAB;
                break;
                // 输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）
            case "btn5":
                var s1 = StrA.value;
                var s2 = StrB.value;
                var stringAB = s1.lastIndexOf(s2);
                result.innerHTML = stringAB;
                break;
                // 使用slice获取选中输入框内容的部分内容，参数为num-a及num-b
            case "btn6":
                whichInput();
                result.innerHTML = "字符串的[2,4)内容是: " + str.value.slice(2, 4);
                break;
                // 当前选中输入框的行数
            case "btn7":
                whichInput();
                result.innerHTML = "当前输入框的行是: " + str.value.rows;
                break;
                // 使用substr获取选中输入框内容的子字符串，参数为num-a及num-b
            case "btn8":
                whichInput();
                var num = NumA.value || NumB.value;
                result.innerHTML = "输入框的子字符串是: " + num.substr(1,2);
                break;
            case "btn9":
                whichInput();
                result.innerHTML = "转化为大写: " + str.value.toUpperCase();
                break;
            case "btn10":
                whichInput();
                result.innerHTML = "转化为小写: " + str.value.toLowerCase();
                break;
                // 把所选输入框中内容的半角空格全部去除
            case "btn11":
                whichInput();
                result.innerHTML = "半角空格去除: " + str.value.replace(/\u0020/g, "");
                break;
            case "btn12":
                var s1 = StrA.value;
                var s2 = StrB.value;
                if (NumberABtn.checked) {
                    result.innerHTML = "将a替换成另一个输入框的内容：" + s1.replace(/a/g,s2);
                } else {
                    result.innerHTML = "将a替换成另一个输入框的内容：" + s2.replace(/a/g,s1);
                }
        }
    }






    // //判断按钮的选中状态 defeat
    //  var checkBtn = function (btnA, btnB) {
    //     return (btnA.checked && btnB.checked) ? "noBtnChecked" : (btnA.checked ? "A" : "B");
    // }
    // btn.addEventListener("click", function() {
    //     var ev = ev || window.event;
    //     var target = ev.target || ev.srcElement;
    //     var NumberABtn = document.querySelector("#radio-a");
    //     var NumberBBtn = document.querySelector("#radio-b");
    //     if (checkBtn(NumberABtn, NumberBBtn) === "noBtnChecked") {
    //         alert("没有选中单选框");
    //     }
    // })
</script>
</body>
</html>